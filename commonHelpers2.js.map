{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst form = document.querySelector(\".feedback-form\");\n\nconst localStorageKey = \"feedback-form-state\";\n\nconst objectLocalStorage = {\n  email: \"\",\n  message: \"\",\n};\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    const result = JSON.parse(data);\n    return result;\n  } catch {\n    return data;\n  }\n\n}\n\nform.addEventListener(\"input\", addToLocalStorage);\n\nfunction addToLocalStorage () {\n  const userEmail = form.elements.email.value.trim();\n  const userMessage = form.elements.message.value.trim();\n  \n  objectLocalStorage.email = userEmail;\n  objectLocalStorage.message = userMessage;\n  localStorage.setItem(localStorageKey, JSON.stringify(objectLocalStorage));\n}\n/////get info in localStorage///////\nfunction restoreData() {\n  const data = loadFromLS(localStorageKey) || {};\n  form.elements.email.value = data.email || \"\";\n  form.elements.message.value = data.message || \"\";\n}\nrestoreData();\n\nform.addEventListener(\"submit\", submitForm);\n\nfunction submitForm(e) {\n  e.preventDefault();\n  const data = loadFromLS(localStorageKey) || {};\n  console.log(data);\n  localStorage.removeItem(localStorageKey)\n  form.reset();\n  console.log(objectLocalStorage);\n}"],"names":["form","localStorageKey","objectLocalStorage","loadFromLS","key","data","addToLocalStorage","userEmail","userMessage","restoreData","submitForm"],"mappings":"oDACA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAkB,sBAElBC,EAAqB,CACzB,MAAO,GACP,QAAS,EACX,EAEA,SAASC,EAAWC,EAAK,CACvB,MAAMC,EAAO,aAAa,QAAQD,CAAG,EAErC,GAAI,CAEF,OADe,KAAK,MAAMC,CAAI,CAElC,MAAU,CACN,OAAOA,CACR,CAEH,CAEAL,EAAK,iBAAiB,QAASM,CAAiB,EAEhD,SAASA,GAAqB,CAC5B,MAAMC,EAAYP,EAAK,SAAS,MAAM,MAAM,OACtCQ,EAAcR,EAAK,SAAS,QAAQ,MAAM,OAEhDE,EAAmB,MAAQK,EAC3BL,EAAmB,QAAUM,EAC7B,aAAa,QAAQP,EAAiB,KAAK,UAAUC,CAAkB,CAAC,CAC1E,CAEA,SAASO,GAAc,CACrB,MAAMJ,EAAOF,EAAWF,CAAe,GAAK,CAAA,EAC5CD,EAAK,SAAS,MAAM,MAAQK,EAAK,OAAS,GAC1CL,EAAK,SAAS,QAAQ,MAAQK,EAAK,SAAW,EAChD,CACAI,IAEAT,EAAK,iBAAiB,SAAUU,CAAU,EAE1C,SAASA,EAAW,EAAG,CACrB,EAAE,eAAc,EAChB,MAAML,EAAOF,EAAWF,CAAe,GAAK,CAAA,EAC5C,QAAQ,IAAII,CAAI,EAChB,aAAa,WAAWJ,CAAe,EACvCD,EAAK,MAAK,EACV,QAAQ,IAAIE,CAAkB,CAChC"}